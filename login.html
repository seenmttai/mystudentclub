<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Login - My Student Club</title>
  <meta name="description"
    content="Login or sign up to My Student Club - Access CA jobs, industrial training, and career resources.">
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <link rel="icon" type="image/x-icon" href="https://www.mystudentclub.com/assets/icon-70x70.png">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Poppins', sans-serif;
      min-height: 100vh;
      background: #f8f9fc;
      overflow-x: hidden;
    }

    /* Main Container */
    .auth-container {
      display: flex;
      min-height: 100vh;
      width: 100%;
      position: relative;
      overflow: hidden;
      background: #f3f3f3;
    }

    /* Panels */
    .form-panel,
    .marketing-panel {
      min-height: 100vh;
      transition: transform 0.6s cubic-bezier(0.645, 0.045, 0.355, 1);
      position: relative;
    }

    .form-panel {
      width: 50%;
    }

    .marketing-panel {
      width: calc(50% - 32px);
    }

    .form-panel {
      background: #f3f3f3;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      padding: 2rem;
      z-index: 2;
      overflow: hidden;
    }


    /* Form Panel Floating Shapes */
    .form-floating-shape {
      position: absolute;
      border-radius: 50%;
      background: rgba(79, 70, 229, 0.06);
      animation: float 6s ease-in-out infinite;
      pointer-events: none;
    }

    .form-floating-shape:nth-child(1) {
      width: 100px;
      height: 100px;
      top: 5%;
      right: 5%;
      animation-delay: 0s;
    }

    .form-floating-shape:nth-child(2) {
      width: 70px;
      height: 70px;
      bottom: 15%;
      left: 3%;
      animation-delay: -2s;
    }

    .form-floating-shape:nth-child(3) {
      width: 50px;
      height: 50px;
      top: 30%;
      left: 8%;
      animation-delay: -4s;
    }

    .form-floating-shape:nth-child(4) {
      width: 80px;
      height: 80px;
      bottom: 5%;
      right: 8%;
      animation-delay: -3s;
    }

    .marketing-panel {
      background: linear-gradient(-45deg, #5b5fc7, #4f46e5, #3730a3, #6366f1);
      background-size: 400% 400%;
      animation: gradientShift 10s ease infinite;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      padding: 3rem 2rem;
      position: relative;
      overflow: hidden;
      z-index: 1;
      border-radius: 24px;
      margin: 16px 0;
      min-height: calc(100vh - 32px);
    }

    @keyframes gradientShift {
      0% 
      { 
        background-position: 0% 50%; 
      }
      50% 
      { 
        background-position: 100% 50%; 
      }
      100% 
      { 
        background-position: 0% 50%; 
      }
    }

    /* Floating Elements */
    .floating-shape {
      position: absolute;
      border-radius: 50%;
      background: rgba(255, 255, 255, 0.08);
      animation: float 6s ease-in-out infinite;
    }

    .floating-shape:nth-child(1) {
      width: 120px;
      height: 120px;
      top: 10%;
      right: 10%;
      animation-delay: 0s;
    }

    .floating-shape:nth-child(2) {
      width: 80px;
      height: 80px;
      bottom: 20%;
      left: 5%;
      animation-delay: -2s;
    }

    .floating-shape:nth-child(3) {
      width: 60px;
      height: 60px;
      top: 20%;
      left: 10%;
      animation-delay: -4s;
    }

    .floating-shape:nth-child(4) {
      width: 100px;
      height: 100px;
      bottom: 5%;
      right: 10%;
      animation-delay: -4s;
    }

    @keyframes float {
      0%, 100% 
      { 
        transform: translateY(0) rotate(0deg); 
      }
      50% 
      { 
        transform: translateY(-20px) rotate(10deg); 
      }
    }


    /* Animated Stats */
    .stats-row {
      display: flex;
      justify-content: center;
      gap: 2rem;
      margin-top: 1.5rem;
      padding-top: 1.5rem;
      border-top: 1px solid rgba(255, 255, 255, 0.15);
    }

    .stat-item {
      text-align: center;
    }

    .stat-number {
      font-size: 1.75rem;
      font-weight: 700;
      color: white;
      font-family: 'Poppins', sans-serif;
    }

    .stat-label {
      font-size: 0.7rem;
      color: rgba(255, 255, 255, 0.75);
      margin-top: 0.25rem;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }

    /* Signup active state - panels swap */
    .auth-container.signup-active .form-panel {
      transform: translateX(100%);
    }

    .auth-container.signup-active .marketing-panel {
      transform: translateX(-100%);
    }

    /* Back Button */
    .back-btn {
      position: absolute;
      top: 1.5rem;
      left: 1.5rem;
      width: 40px;
      height: 40px;
      border: 1px solid #e5e7eb;
      border-radius: 8px;
      background: white;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      transition: all 0.2s ease;
      text-decoration: none;
      color: #374151;
    }

    .back-btn:hover {
      border-color: #4f46e5;
      color: #4f46e5;
    }

    .back-btn svg {
      width: 20px;
      height: 20px;
    }

    /* Logo */
    .logo-container {
      text-align: center;
      margin-bottom: 1rem;
    }

    .logo-icon {
      max-width: 150px;
      height: auto;
      margin-bottom: 0.25rem;
      object-fit: contain;
    }

    .logo-text {
      font-size: 0.875rem;
      font-weight: 600;
      color: #1f2937;
      letter-spacing: 0.5px;
    }

    /* Form Container */
    .form-container {
      width: 100%;
      max-width: 380px;
    }

    .form-title {
      font-size: 1.5rem;
      font-weight: 600;
      color: #1f2937;
      text-align: center;
      margin-bottom: 1rem;
    }

    /* Google Button */
    .google-btn {
      width: 100%;
      padding: 0.75rem 1rem;
      background: white;
      border: 1px solid #d1d5db;
      border-radius: 8px;
      font-size: 0.9375rem;
      font-weight: 500;
      color: #374151;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 0.75rem;
      transition: all 0.2s ease;
      font-family: inherit;
    }

    .google-btn:hover {
      background: #f9fafb;
      border-color: #9ca3af;
    }

    .google-btn svg {
      width: 18px;
      height: 18px;
    }

    /* Divider */
    .divider {
      display: flex;
      align-items: center;
      margin: 0.875rem 0;
      color: #9ca3af;
      font-size: 0.8125rem;
    }

    .divider::before,
    .divider::after {
      content: '';
      flex: 1;
      height: 1px;
      background: #e5e7eb;
    }

    .divider::before {
      margin-right: 1rem;
    }

    .divider::after {
      margin-left: 1rem;
    }

    /* Form Inputs */
    .form-group {
      margin-bottom: 0.75rem;
    }

    .form-input {
      width: 100%;
      padding: 0.75rem 1rem;
      font-size: 0.9375rem;
      border: 1px solid #e5e7eb;
      border-radius: 8px;
      background: #f9fafb;
      transition: all 0.2s ease;
      font-family: inherit;
    }

    .form-input:focus {
      outline: none;
      border-color: #4f46e5;
      background: white;
      box-shadow: 0 0 0 3px rgba(79, 70, 229, 0.1);
    }

    .form-input::placeholder {
      color: #9ca3af;
    }

    .password-wrapper {
      position: relative;
    }

    .password-toggle {
      position: absolute;
      right: 12px;
      top: 50%;
      transform: translateY(-50%);
      background: none;
      border: none;
      cursor: pointer;
      padding: 4px;
      color: #9ca3af;
      transition: color 0.2s ease;
    }

    .password-toggle:hover {
      color: #4f46e5;
    }

    .password-toggle svg {
      width: 20px;
      height: 20px;
    }

    /* Submit Button */
    .submit-btn {
      width: 100%;
      padding: 0.875rem;
      background: #4f46e5;
      color: white;
      border: none;
      border-radius: 8px;
      font-size: 1rem;
      font-weight: 500;
      cursor: pointer;
      transition: all 0.2s ease;
      font-family: inherit;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 0.5rem;
    }

    .submit-btn:hover {
      background: #4338ca;
      transform: translateY(-1px);
    }

    .submit-btn:active {
      transform: translateY(0);
    }

    .submit-btn:disabled {
      background: #9ca3af;
      cursor: not-allowed;
      transform: none;
    }

    .submit-btn .spinner {
      display: none;
      width: 18px;
      height: 18px;
      border: 2px solid transparent;
      border-top-color: white;
      border-radius: 50%;
      animation: spin 0.8s linear infinite;
    }

    .submit-btn.loading .spinner {
      display: block;
    }

    @keyframes spin {
      to {
        transform: rotate(360deg);
      }
    }

    /* Links */
    .forgot-link {
      display: block;
      text-align: center;
      margin-top: 1rem;
      color: #4f46e5;
      text-decoration: none;
      font-size: 0.875rem;
      transition: color 0.2s ease;
    }

    .forgot-link:hover {
      color: #3730a3;
      text-decoration: underline;
    }

    .switch-link {
      text-align: center;
      margin-top: 1.25rem;
      font-size: 0.875rem;
      color: #6b7280;
    }

    .switch-link a {
      color: #4f46e5;
      text-decoration: none;
      font-weight: 500;
      cursor: pointer;
      transition: color 0.2s ease;
    }

    .switch-link a:hover {
      color: #3730a3;
    }

    .switch-link svg {
      width: 14px;
      height: 14px;
      vertical-align: middle;
      margin-left: 4px;
    }

    /* Error Message */
    .error-message {
      background: #fef2f2;
      border: 1px solid #fecaca;
      border-radius: 8px;
      padding: 0.75rem 1rem;
      color: #dc2626;
      font-size: 0.875rem;
      margin-bottom: 1rem;
      display: none;
      animation: shake 0.4s ease;
    }

    .error-message.show {
      display: block;
    }

    .success-message {
      background: #ecfdf5;
      border: 1px solid #a7f3d0;
      border-radius: 8px;
      padding: 0.75rem 1rem;
      color: #059669;
      font-size: 0.875rem;
      margin-bottom: 1rem;
      display: none;
    }

    .success-message.show {
      display: block;
    }

    @keyframes shake {

      0%,
      100% {
        transform: translateX(0);
      }

      25% {
        transform: translateX(-5px);
      }

      75% {
        transform: translateX(5px);
      }
    }

    /* Marketing Panel Content */
    .marketing-content {
      color: white;
      text-align: left;
      max-width: 400px;
      z-index: 2;
    }

    .marketing-title {
      font-size: 2.25rem;
      font-weight: 700;
      line-height: 1.2;
      margin-bottom: 1rem;
    }

    .marketing-subtitle {
      font-size: 0.9375rem;
      opacity: 0.9;
      line-height: 1.6;
      margin-bottom: 2rem;
    }

    /* Testimonial Carousel */
    .testimonial-carousel {
      width: 100%;
      max-width: 400px;
      z-index: 2;
      margin-top: 2rem;
    }

    .testimonial-card {
      background: rgba(255, 255, 255, 0.12);
      backdrop-filter: blur(10px);
      border-radius: 12px;
      padding: 1.25rem;
      border: 1px solid rgba(255, 255, 255, 0.15);
      display: none;
    }

    .testimonial-card.active {
      display: block;
      animation: fadeIn 0.4s ease;
    }

    @keyframes fadeIn {
      from {
        opacity: 0;
        transform: translateY(10px);
      }

      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .testimonial-text {
      font-size: 0.9375rem;
      line-height: 1.6;
      color: white;
    }

    .carousel-controls {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-top: 1.25rem;
    }

    .carousel-btn {
      width: 36px;
      height: 36px;
      border-radius: 50%;
      border: 1px solid rgba(255, 255, 255, 0.3);
      background: rgba(255, 255, 255, 0.1);
      color: white;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 0.2s ease;
    }

    .carousel-btn:hover {
      background: rgba(255, 255, 255, 0.2);
      border-color: rgba(255, 255, 255, 0.5);
    }

    .carousel-btn svg {
      width: 16px;
      height: 16px;
    }

    .carousel-dots {
      display: flex;
      gap: 8px;
    }

    .carousel-dot {
      width: 8px;
      height: 8px;
      border-radius: 50%;
      background: rgba(255, 255, 255, 0.3);
      cursor: pointer;
      transition: all 0.2s ease;
    }

    .carousel-dot.active {
      background: white;
      width: 24px;
      border-radius: 4px;
    }

    /* Forms visibility toggle */
    .login-form-wrapper,
    .signup-form-wrapper {
      width: 100%;
      max-width: 380px;
    }

    .signup-form-wrapper {
      display: none;
    }

    .auth-container.signup-active .login-form-wrapper {
      display: none;
    }

    .auth-container.signup-active .signup-form-wrapper {
      display: block;
    }

    /* Name fields row */
    .name-row {
      display: flex;
      gap: 1rem;
    }

    .name-row .form-group {
      flex: 1;
    }

    /* Password Reset Modal */
    .modal-overlay {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(0, 0, 0, 0.5);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 1000;
      opacity: 0;
      visibility: hidden;
      transition: all 0.3s ease;
    }

    .modal-overlay.show {
      opacity: 1;
      visibility: visible;
    }

    .modal-content {
      background: white;
      border-radius: 16px;
      padding: 2rem;
      width: 100%;
      max-width: 400px;
      margin: 1rem;
      transform: translateY(20px);
      transition: transform 0.3s ease;
    }

    .modal-overlay.show .modal-content {
      transform: translateY(0);
    }

    .modal-title {
      font-size: 1.25rem;
      font-weight: 600;
      color: #1f2937;
      margin-bottom: 0.5rem;
    }

    .modal-subtitle {
      font-size: 0.875rem;
      color: #6b7280;
      margin-bottom: 1.5rem;
    }

    .modal-buttons {
      display: flex;
      gap: 0.75rem;
      margin-top: 1.5rem;
    }

    .modal-btn {
      flex: 1;
      padding: 0.75rem 1rem;
      border-radius: 8px;
      font-size: 0.9375rem;
      font-weight: 500;
      cursor: pointer;
      transition: all 0.2s ease;
      font-family: inherit;
    }

    .modal-btn.secondary {
      background: white;
      border: 1px solid #d1d5db;
      color: #374151;
    }

    .modal-btn.secondary:hover {
      background: #f9fafb;
    }

    .modal-btn.primary {
      background: #4f46e5;
      border: none;
      color: white;
    }

    .modal-btn.primary:hover {
      background: #4338ca;
    }

    .modal-btn.primary:disabled {
      background: #9ca3af;
      cursor: not-allowed;
    }

    #reset-message {
      font-size: 0.875rem;
      padding: 0.75rem;
      border-radius: 8px;
      margin-top: 1rem;
      display: none;
    }

    #reset-message.show {
      display: block;
    }

    #reset-message.success {
      background: #ecfdf5;
      color: #059669;
      border: 1px solid #a7f3d0;
    }

    #reset-message.error {
      background: #fef2f2;
      color: #dc2626;
      border: 1px solid #fecaca;
    }

    /* Responsive */
    @media (max-width: 900px) {
      .auth-container {
        flex-direction: column;
      }

      .form-panel {
        width: 100%;
        min-height: 100vh;
        padding: 3rem 1.5rem;
      }

      .marketing-panel {
        display: none;
      }

      .auth-container.signup-active .form-panel {
        transform: none;
      }

      .back-btn {
        top: 1rem;
        left: 1rem;
      }

      .form-container {
        max-width: 100%;
      }
    }

    @media (max-width: 480px) {
      .form-panel {
        padding: 2rem 1rem;
        padding-top: 4rem;
      }

      .name-row {
        flex-direction: column;
        gap: 0;
      }
    }
  </style>
</head>

<body>
  <div class="auth-container" id="authContainer">
    <!-- Form Panel -->
    <div class="form-panel">
      <!-- Floating Shapes -->
      <div class="form-floating-shape"></div>
      <div class="form-floating-shape"></div>
      <div class="form-floating-shape"></div>
      <div class="form-floating-shape"></div>

      <a href="/" class="back-btn" aria-label="Back to home">
        <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18" />
        </svg>
      </a>

      <!-- Login Form -->
      <div class="login-form-wrapper">
        <div class="logo-container">
          <img src="/assets/logo.png" alt="My Student Club" class="logo-icon">
        </div>

        <div class="form-container">
          <h1 class="form-title">Welcome</h1>

          <div id="login-error" class="error-message"></div>

          <button type="button" id="google-login-btn" class="google-btn">
            <svg viewBox="0 0 48 48">
              <path fill="#EA4335"
                d="M24 9.5c3.54 0 6.71 1.22 9.21 3.6l6.85-6.85C35.9 2.38 30.47 0 24 0 14.62 0 6.51 5.38 2.56 13.22l7.98 6.19C12.43 13.72 17.74 9.5 24 9.5z" />

              <path fill="#4285F4"
                d="M46.98 24.55c0-1.57-.15-3.09-.38-4.55H24v9.02h12.94c-.58 2.96-2.26 5.48-4.78 7.18l7.73 6c4.51-4.18 7.09-10.36 7.09-17.65z" />

              <path fill="#FBBC05"
                d="M10.53 28.59c-.48-1.45-.76-2.99-.76-4.59s.27-3.14.76-4.59l-7.98-6.19C.92 16.46 0 20.12 0 24c0 3.88.92 7.54 2.56 10.78l7.97-6.19z" />
                
              <path fill="#34A853"
                d="M24 48c6.48 0 11.93-2.13 15.89-5.81l-7.73-6c-2.15 1.45-4.92 2.3-8.16 2.3-6.26 0-11.57-4.22-13.47-9.91l-7.98 6.19C6.51 42.62 14.62 48 24 48z" />
            </svg>
            Login with Google
          </button>

          <div class="divider">or</div>

          <form id="login-form">
            <div class="form-group">
              <input type="email" id="login-email" class="form-input" placeholder="Email address" required>
            </div>
            <div class="form-group">
              <div class="password-wrapper">
                <input type="password" id="login-password" class="form-input" placeholder="Password" required>
                <button type="button" class="password-toggle" data-target="login-password"
                  aria-label="Toggle password visibility">
                  <svg class="eye-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                      d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" />
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                      d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z" />
                  </svg>
                </button>
              </div>
            </div>
            <button type="submit" class="submit-btn" id="login-submit">
              Login
              <span class="spinner"></span>
            </button>
          </form>

          <a href="#" class="forgot-link" id="forgot-password-link">Forgot your password?</a>

          <div class="switch-link">
            Not a user? <a href="#" id="show-signup">Sign up
              <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
              </svg>
            </a>
          </div>
        </div>
      </div>

      <!-- Signup Form -->
      <div class="signup-form-wrapper">
        <div class="logo-container">
          <img src="/assets/logo.png" alt="My Student Club" class="logo-icon">
        </div>

        <div class="form-container">
          <h1 class="form-title">Create an account</h1>

          <div id="signup-error" class="error-message"></div>
          <div id="signup-success" class="success-message"></div>

          <button type="button" id="google-signup-btn" class="google-btn">
            <svg viewBox="0 0 48 48">
              <path fill="#EA4335"
                d="M24 9.5c3.54 0 6.71 1.22 9.21 3.6l6.85-6.85C35.9 2.38 30.47 0 24 0 14.62 0 6.51 5.38 2.56 13.22l7.98 6.19C12.43 13.72 17.74 9.5 24 9.5z" />
              <path fill="#4285F4"
                d="M46.98 24.55c0-1.57-.15-3.09-.38-4.55H24v9.02h12.94c-.58 2.96-2.26 5.48-4.78 7.18l7.73 6c4.51-4.18 7.09-10.36 7.09-17.65z" />
              <path fill="#FBBC05"
                d="M10.53 28.59c-.48-1.45-.76-2.99-.76-4.59s.27-3.14.76-4.59l-7.98-6.19C.92 16.46 0 20.12 0 24c0 3.88.92 7.54 2.56 10.78l7.97-6.19z" />
              <path fill="#34A853"
                d="M24 48c6.48 0 11.93-2.13 15.89-5.81l-7.73-6c-2.15 1.45-4.92 2.3-8.16 2.3-6.26 0-11.57-4.22-13.47-9.91l-7.98 6.19C6.51 42.62 14.62 48 24 48z" />
            </svg>
            Signup with Google
          </button>

          <div class="divider">or</div>

          <form id="signup-form">
            <div class="name-row">
              <div class="form-group">
                <input type="text" id="signup-firstname" class="form-input" placeholder="First Name" required>
              </div>
              <div class="form-group">
                <input type="text" id="signup-lastname" class="form-input" placeholder="Last Name" required>
              </div>
            </div>
            <div class="form-group">
              <input type="email" id="signup-email" class="form-input" placeholder="Email address" required>
            </div>
            <div class="form-group">
              <div class="password-wrapper">
                <input type="password" id="signup-password" class="form-input" placeholder="Password" required>
                <button type="button" class="password-toggle" data-target="signup-password"
                  aria-label="Toggle password visibility">
                  <svg class="eye-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                      d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" />
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                      d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z" />
                  </svg>
                </button>
              </div>
            </div>
            <button type="submit" class="submit-btn" id="signup-submit">
              Continue
              <span class="spinner"></span>
            </button>
          </form>

          <div class="switch-link">
            Already have an account? <a href="#" id="show-login">Login
              <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
              </svg>
            </a>
          </div>
        </div>
      </div>
    </div>

    <!-- Marketing Panel -->
    <div class="marketing-panel">
      <!-- Floating Shapes -->
      <div class="floating-shape"></div>
      <div class="floating-shape"></div>
      <div class="floating-shape"></div>
      <div class="floating-shape"></div>
      <div class="floating-shape"></div>

      <div class="marketing-content">
        <h2 class="marketing-title">Unlock Your Dream<br>CA Career</h2>
        <p class="marketing-subtitle">Your one-stop destination for Industrial Training, Articleship vacancies, and expert mentorship to fast-track your corporate success.</p>
      </div>

      <div class="testimonial-carousel">
        <div class="testimonial-card active" data-index="0">
          <p class="testimonial-text">
            <strong>Top-Tier Opportunities:</strong> Access exclusive vacancies and get referrals to leading organizations like Amazon, UBS, and Flipkart with stipends up to ₹1.25 Lakhs.
          </p>
        </div>
        <div class="testimonial-card" data-index="1">
          <p class="testimonial-text">
            <strong>AI-Powered Edge:</strong> Utilize our AI CV Reviewer and Interview Bot to perfect your resume and boost your shortlist chances by 3x compared to standard applicants.
          </p>
        </div>
        <div class="testimonial-card" data-index="2">
          <p class="testimonial-text">
            <strong>Expert Guidance:</strong> "The Masterclass and personal guidance helped me crack my dream Industrial Training role." — Join 1000+ students placed through our programs.
          </p>
        </div>

        <div class="carousel-controls">
          <button class="carousel-btn" id="carousel-prev" aria-label="Previous">
            <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"/>
            </svg>
          </button>
          <div class="carousel-dots">
            <div class="carousel-dot active" data-index="0"></div>
            <div class="carousel-dot" data-index="1"></div>
            <div class="carousel-dot" data-index="2"></div>
          </div>
          <button class="carousel-btn" id="carousel-next" aria-label="Next">
            <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
            </svg>
          </button>
        </div>
      </div>

      <div class="stats-row">
        <div class="stat-item">
          <div class="stat-number" data-target="1000">0</div>
          <div class="stat-label">Students Placed</div>
        </div>
        <div class="stat-item">
          <div class="stat-number" data-target="500">0</div>
          <div class="stat-label">Top Firms</div>
        </div>
        <div class="stat-item">
          <div class="stat-number" data-target="125000" data-prefix="₹" data-suffix="">0</div>
          <div class="stat-label">Max Stipend</div>
        </div>
      </div>
    </div>

    <!-- Forgot Password Modal -->
    <div class="modal-overlay" id="forgot-password-modal">
      <div class="modal-content">
        <h3 class="modal-title">Reset Password</h3>
        <p class="modal-subtitle">Enter your email address and we'll send you a link to reset your password.</p>

        <div class="form-group">
          <input type="email" id="reset-email" class="form-input" placeholder="Email address" required>
        </div>
        <div id="reset-message"></div>

        <div class="modal-buttons">
          <button type="button" class="modal-btn secondary" id="cancel-reset">Cancel</button>
          <button type="button" class="modal-btn primary" id="send-reset">Send Reset Link</button>
        </div>
      </div>
    </div>

    <script>
      // Initialize Supabase
      const supabaseClient = supabase.createClient(
        'https://izsggdtdiacxdsjjncdq.supabase.co',
        'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Iml6c2dnZHRkaWFjeGRzampuY2RxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Mzg1OTEzNjUsImV4cCI6MjA1NDE2NzM2NX0.FVKBJG-TmXiiYzBDjGIRBM2zg-DYxzNP--WM6q2UMt0'
      );

      const redirectUrl = new URLSearchParams(window.location.search).get('redirect');

      // Check if already logged in
      window.addEventListener('DOMContentLoaded', async () => {
        const { data: { session } } = await supabaseClient.auth.getSession();
        if (session) {
          window.location.href = redirectUrl || '/';
        }

        // Animated Counter for Stats
        const animateCounter = (element) => {
          const target = parseInt(element.dataset.target);
          const prefix = element.dataset.prefix || '';
          const suffix = element.dataset.suffix !== undefined ? element.dataset.suffix : '+';
          const duration = 2000;
          const increment = target / (duration / 16);
          let current = 0;

          const updateCounter = () => {
            current += increment;
            if (current < target) {
              if (target >= 100000) {
                element.textContent = prefix + (current / 100000).toFixed(2) + 'L';
              } else {
                element.textContent = prefix + Math.floor(current) + suffix;
              }
              requestAnimationFrame(updateCounter);
            } else {
              if (target >= 100000) {
                element.textContent = prefix + (target / 100000).toFixed(2) + 'L';
              } else {
                element.textContent = prefix + target + suffix;
              }
            }
          };
          updateCounter();
        };

        // Start counter animation
        document.querySelectorAll('.stat-number[data-target]').forEach(el => {
          animateCounter(el);
        });
      });

      // DOM Elements
      const authContainer = document.getElementById('authContainer');
      const showSignupLink = document.getElementById('show-signup');
      const showLoginLink = document.getElementById('show-login');

      // Toggle between login and signup
      showSignupLink.addEventListener('click', (e) => {
        e.preventDefault();
        authContainer.classList.add('signup-active');
      });

      showLoginLink.addEventListener('click', (e) => {
        e.preventDefault();
        authContainer.classList.remove('signup-active');
      });

      // Password visibility toggle
      document.querySelectorAll('.password-toggle').forEach(btn => {
        btn.addEventListener('click', () => {
          const targetId = btn.getAttribute('data-target');
          const input = document.getElementById(targetId);
          const icon = btn.querySelector('svg');

          if (input.type === 'password') {
            input.type = 'text';
            icon.innerHTML = `
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"/>
          `;
          } else {
            input.type = 'password';
            icon.innerHTML = `
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"/>
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"/>
          `;
          }
        });
      });

      // Login Form
      const loginForm = document.getElementById('login-form');
      const loginError = document.getElementById('login-error');
      const loginSubmit = document.getElementById('login-submit');

      loginForm.addEventListener('submit', async (e) => {
        e.preventDefault();

        const email = document.getElementById('login-email').value;
        const password = document.getElementById('login-password').value;

        loginSubmit.classList.add('loading');
        loginSubmit.disabled = true;
        loginError.classList.remove('show');

        try {
          const { data, error } = await supabaseClient.auth.signInWithPassword({
            email,
            password
          });

          if (error) throw error;
          window.location.href = redirectUrl || '/';

        } catch (error) {
          loginError.textContent = error.message;
          loginError.classList.add('show');
          loginSubmit.classList.remove('loading');
          loginSubmit.disabled = false;
        }
      });

      // Signup Form
      const signupForm = document.getElementById('signup-form');
      const signupError = document.getElementById('signup-error');
      const signupSuccess = document.getElementById('signup-success');
      const signupSubmit = document.getElementById('signup-submit');

      signupForm.addEventListener('submit', async (e) => {
        e.preventDefault();

        const firstName = document.getElementById('signup-firstname').value;
        const lastName = document.getElementById('signup-lastname').value;
        const email = document.getElementById('signup-email').value;
        const password = document.getElementById('signup-password').value;

        signupError.classList.remove('show');
        signupSuccess.classList.remove('show');

        if (password.length < 6) {
          signupError.textContent = 'Password must be at least 6 characters long.';
          signupError.classList.add('show');
          return;
        }

        signupSubmit.classList.add('loading');
        signupSubmit.disabled = true;

        try {
          const { data, error } = await supabaseClient.auth.signUp({
            email,
            password,
            options: {
              emailRedirectTo: `${window.location.origin}/login.html`,
              data: {
                first_name: firstName,
                last_name: lastName,
                full_name: `${firstName} ${lastName}`
              }
            }
          });

          if (error) throw error;

          if (data.user && !data.session) {
            // Mark as new user for resume prompt on first login
            localStorage.setItem('newUserSignup', 'true');
            localStorage.setItem('newUserEmail', email);
            signupSuccess.textContent = 'Sign up successful! Please check your email to confirm your account.';
            signupSuccess.classList.add('show');
            signupForm.reset();
          } else if (data.session) {
            window.location.href = '/';
          }

        } catch (error) {
          if (error.message.includes('User already registered')) {
            signupError.textContent = 'This email is already registered. Please log in instead.';
          } else {
            signupError.textContent = error.message || 'Failed to sign up. Please try again.';
          }
          signupError.classList.add('show');
        } finally {
          signupSubmit.classList.remove('loading');
          signupSubmit.disabled = false;
        }
      });

      // Google Sign In
      const googleLoginBtn = document.getElementById('google-login-btn');
      const googleSignupBtn = document.getElementById('google-signup-btn');

      async function handleGoogleSignIn() {
        try {
          const { error } = await supabaseClient.auth.signInWithOAuth({
            provider: 'google',
            options: {
              redirectTo: redirectUrl ? `${window.location.origin}${redirectUrl}` : window.location.origin
            }
          });
          if (error) throw error;
        } catch (error) {
          console.error('Google Sign-In Error:', error);
          const errorEl = authContainer.classList.contains('signup-active') ? signupError : loginError;
          errorEl.textContent = error.message || 'Failed to sign in with Google.';
          errorEl.classList.add('show');
        }
      }

      googleLoginBtn.addEventListener('click', handleGoogleSignIn);
      googleSignupBtn.addEventListener('click', handleGoogleSignIn);

      // Native Google Sign-In handler (for mobile apps)
      window.handleGoogleSignInToken = async function (id_token) {
        if (!id_token) return;
        try {
          const { error } = await supabaseClient.auth.signInWithIdToken({
            provider: 'google',
            token: id_token
          });
          if (error) {
            alert('Could not complete Google Sign-In: ' + error.message);
          } else {
            window.location.href = redirectUrl || '/';
          }
        } catch (e) {
          console.error('Error during Google Sign-In:', e);
        }
      };

      // Forgot Password Modal
      const forgotLink = document.getElementById('forgot-password-link');
      const forgotModal = document.getElementById('forgot-password-modal');
      const cancelReset = document.getElementById('cancel-reset');
      const sendReset = document.getElementById('send-reset');
      const resetEmail = document.getElementById('reset-email');
      const resetMessage = document.getElementById('reset-message');

      forgotLink.addEventListener('click', (e) => {
        e.preventDefault();
        forgotModal.classList.add('show');
      });

      cancelReset.addEventListener('click', () => {
        forgotModal.classList.remove('show');
        resetMessage.classList.remove('show');
        resetEmail.value = '';
      });

      forgotModal.addEventListener('click', (e) => {
        if (e.target === forgotModal) {
          forgotModal.classList.remove('show');
          resetMessage.classList.remove('show');
          resetEmail.value = '';
        }
      });

      sendReset.addEventListener('click', async () => {
        const email = resetEmail.value;

        if (!email) {
          resetMessage.textContent = 'Please enter your email address.';
          resetMessage.className = 'error show';
          return;
        }

        sendReset.disabled = true;
        sendReset.textContent = 'Sending...';

        try {
          const { error } = await supabaseClient.auth.resetPasswordForEmail(email, {
            redirectTo: `${window.location.origin}/update-password.html`
          });

          if (error) throw error;

          resetMessage.innerHTML = 'Password reset link sent! <strong>Check your spam folder</strong> if you don\'t see it.';
          resetMessage.className = 'success show';
          resetEmail.value = '';

        } catch (error) {
          resetMessage.textContent = error.message;
          resetMessage.className = 'error show';
        } finally {
          sendReset.disabled = false;
          sendReset.textContent = 'Send Reset Link';
        }
      });

      // Testimonial Carousel
      const carouselCards = document.querySelectorAll('.testimonial-card');
      const carouselDots = document.querySelectorAll('.carousel-dot');
      const prevBtn = document.getElementById('carousel-prev');
      const nextBtn = document.getElementById('carousel-next');
      let currentSlide = 0;
      let autoSlide;

      function showSlide(index) {
        if (index < 0) index = carouselCards.length - 1;
        if (index >= carouselCards.length) index = 0;
        currentSlide = index;

        carouselCards.forEach((card, i) => {
          card.classList.toggle('active', i === index);
        });
        carouselDots.forEach((dot, i) => {
          dot.classList.toggle('active', i === index);
        });
      }

      function startAutoSlide() {
        autoSlide = setInterval(() => {
          showSlide(currentSlide + 1);
        }, 5000);
      }

      function resetAutoSlide() {
        clearInterval(autoSlide);
        startAutoSlide();
      }

      prevBtn.addEventListener('click', () => {
        showSlide(currentSlide - 1);
        resetAutoSlide();
      });

      nextBtn.addEventListener('click', () => {
        showSlide(currentSlide + 1);
        resetAutoSlide();
      });

      carouselDots.forEach(dot => {
        dot.addEventListener('click', () => {
          showSlide(parseInt(dot.getAttribute('data-index')));
          resetAutoSlide();
        });
      });

      startAutoSlide();
    </script>
</body>

</html>